/*
	jBar v2.0.0
	
	by Todd Motto: http://toddmotto.com
	Latest version: https://github.com/toddmotto/jBar
	
	Copyright 2013 Todd Motto
	Licensed under the MIT license
	http://www.opensource.org/licenses/mit-license.php

	The jBar plugin, a simple and lightweight notification banner.
*/
!function(e,t,n){"use strict";var r=function(e){this.elem=e;this.$elem=t(e);this.jsonConfig=this.$elem.data("jbar")};r.prototype={init:function(){this.config=t.extend({},this.defaults,this.jsonConfig);this.construct().printMessage().createButton().removeData().togglejBar()},construct:function(){this.$elem.before(t('<div class="jbar-push"></div>'+'<a href="#" class="jbar-down-toggle">'+'<img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="jbar-down-arrow" alt=""></a>'));this.$elem.append(t('<div class="jbar-wrap"></div><a href="#" class="jbar-up-toggle">'+'<img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="jbar-up-arrow" alt=""></a>'));return this},printMessage:function(){if(this.jsonConfig.message){this.$elem.children(".jbar-wrap").append(t("<p>"+this.jsonConfig.message+"</p>"))}return this},createButton:function(){if(this.jsonConfig.button&&this.jsonConfig.url){this.$elem.children(".jbar-wrap").append(t('<a href="'+this.jsonConfig.url+'" class="jbar-button">'+this.jsonConfig.button+"</p>"))}return this},removeData:function(){if(this.jsonConfig){this.$elem.removeAttr("data-jbar")}return this},togglejBar:function(){var e=t("body");var n=this.$elem;var r=t(".jbar-push");var i=t(".jbar-down-toggle");var s=t(".jbar-down-toggle, .jbar-up-toggle");var o;if(this.jsonConfig.state==="closed"){n.add(r).css({marginTop:-n.outerHeight()});r.css({height:n.outerHeight()});i.css({visibility:"visible"});setTimeout(function(){n.add(r).css({display:"block"})},500)}else if(this.jsonConfig.state==="open"){i.css({marginTop:-(i.outerHeight()+5)});n.add(r).css({display:"block"});r.css({height:n.outerHeight()});e.css({marginTop:n.outerHeight()});setTimeout(function(){i.css({display:"block",visibility:"visible"})},500);n.data("clicks",!o)}s.on("click",function(t){o=n.data("clicks");if(!o){n.add(r).css({marginTop:"0"});i.css({marginTop:-(n.outerHeight()+5)});e.animate({marginTop:n.outerHeight()},400)}else{n.add(r).css({marginTop:-n.outerHeight()});i.css({marginTop:"0"});e.animate({marginTop:"0"},400)}n.data("clicks",!o);t.preventDefault()})}};r.defaults=r.prototype.defaults;t.fn.jBar=function(){return this.each(function(){(new r(this)).init()})};e.jBar=r;t(function(){if(t("[data-init]").data("init")==="jbar"){t("[data-jbar]").jBar()}})}(window,jQuery)